/* Complete popup.css (with star button on right of dropdown) */

/* Base CSS (Non-Color Properties - Layout, Structure, Font) */
body {
    font-family: Arial, sans-serif;
    padding: 15px;
    width: 300px;
}

h1, h2, h3 {
    margin-bottom: 10px;
}

hr {
    margin: 15px 0;
    border: 0;
    border-top: 1px solid #eee; /* Keep border style - consistent in both modes */
}

#message {
    margin-top: 10px;
    font-size: 0.9em;
}

/* Style for the Options within the Dropdown (optional - layout related properties can stay here if needed) */
#bookmarkFolder option {
    padding: 8px 12px;
    font-size: 1em; /* Keep font size here if it's the same in both modes */
}

/* Style for the "Save Folder" Button (now Star Icon Button) - Layout related properties - BASE STYLES */
#saveFolderButtonIcon {
    /* margin-top: 10px;  -- REMOVED margin-top - container will handle spacing */
    padding: 0; /* Remove default padding */
    width: 30px; /* Set a fixed width and height to make it square for the icon */
    height: 30px;
    border-radius: 50%; /* Make it circular or slightly rounded */
    border: none; /* Remove border */
    background-color: transparent; /* Make background transparent */
    cursor: pointer;
    /* No more text-based star styling - removed font-size, color, text-align, line-height */
    /* font-size: 1.5em;  color: gold; text-align: center; line-height: 30px; */

    /* Background image styles - keep them in .star-filled-icon and .star-outline-icon classes */
}

/* Style for Filled Star Icon Class */
.star-filled-icon {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='gold' class='bi bi-star-fill' viewBox='0 0 16 16'%3E%3Cpath d='M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}

/* Style for Outline Star Icon Class */
.star-outline-icon {
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='gold' class='bi bi-star' viewBox='0 0 16 16'%3E%3Cpath d='M2.866 14.85c-.078.444.36.791.746.593l4.39-2.256 4.389 2.256c.386.198.824-.149.746-.592l-.83-4.73 3.522-3.356c.33-.314.16-.888-.282-.95l-4.898-.696L8.465.792a.513.513 0 0 0-.927 0L5.354 5.12l-4.898.696c-.441.062-.612.636-.283.95l3.523 3.356-.83 4.73zm4.905-2.767-3.686 1.894.694-3.957a.56.56 0 0 0-.163-.505L1.71 6.745l4.052-.576a.53.53 0 0 0 .393-.288L8 2.223l1.847 3.658a.53.53 0 0 0 .393.288l4.052.575-2.906 2.77a.56.56 0 0 0-.163.506l.694 3.957-3.686-1.894a.5.5 0 0 0-.461 0z'/%3E%3C/svg%3E");
    background-size: contain;
    background-repeat: no-repeat;
    background-position: center;
}


#favorites-list ul {
    list-style-type: none;
    padding-left: 0;
}

#favorites-list li {
    margin-bottom: 5px;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

/* Style for the FAVORITE BUTTON (first button in li) - Layout related properties */
#favorites-list li button:first-child {
    flex-grow: 1;
    text-align: left;
    padding: 8px 12px;
    border: none; /* Remove border */
    cursor: pointer;
    font-size: 1em; /* Keep font size here if it's the same in both modes */
    border-radius: 2px; /* Added border-radius: 2px */
}


.remove-favorite-button {
    background-color: transparent; /* Make background transparent */
    border: none;
    padding: 8px 0; /* Add vertical padding to match favorite button - adjust as needed */
    cursor: pointer;
    font-size: 1.2em; /* Adjust icon size - you might need to tweak this */
    line-height: 1;
    margin-left: 10px;
}

#no-favorites-message {
    font-style: italic;
}

/* Style for Add Current Favorite button (adjust as needed) - Layout related properties */
#addCurrentFavoriteButton { /* Note: ID in HTML is now saveFolderButtonIcon, this CSS isn't used anymore */
    margin-top: 10px;
    padding: 8px 12px;
    border-radius: 2px;
    border: 1px solid transparent; /* Keep border style properties, color will be in media query */
    cursor: pointer;
}

#switchButton {
    margin-top: 10px;
    padding: 8px 12px;
    border-radius: 2px;
    border: 1px solid transparent; /* Keep border style properties, color will be in media query */
    cursor: pointer;
}

/* Style for the Select Dropdown - Layout related properties */
#bookmarkFolder {
    width: auto; /* Changed from 100% to auto - let container control width */
    flex-grow: 1; /* Allow dropdown to take available space in container */
    padding: 8px 12px; /* Padding inside the dropdown */
    font-size: 1em; /* Font size */
    border: 1px solid transparent; /* Border style, width, color will be in media query */
    border-radius: 2px; /* Rounded corners */
    appearance: none; /* Reset browser default styling for dropdown (for more consistent look) */
    -webkit-appearance: none; /* For Safari/Chrome */
    -moz-appearance: none; /* For Firefox */
    cursor: pointer; /* Change cursor to pointer on hover */
    background-image: url('data:image/svg+xml;utf8,<svg fill="currentColor" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg"><path d="M7 10l5 5 5-5z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'); /* Keep arrow icon URL */
    background-repeat: no-repeat;
    background-position-x: right;
    background-position-y: center;
    padding-right: 25px; /* Add extra right padding to accommodate the arrow icon */
    margin-top: 0; /* Reset margin-top if it was previously set */
}

/* Style for the container holding dropdown and star button */
.dropdown-and-star-container {
    display: flex; /* Enable Flexbox */
    flex-direction: row; /* Arrange items horizontally */
    align-items: center; /* Vertically align items in the center */
    gap: 10px; /* Spacing between dropdown and star button */
    margin-top: 10px; /* Add margin above for spacing from label */
}


/* --- Media Queries for Color Schemes --- */

@media (prefers-color-scheme: light) {
    body {
        background-color: #f9f9f9;
        color: #333;
    }
    h1, h2, h3 {
        color: #333;
    }
    #message {
        color: #555;
    }
    #no-favorites-message {
        color: #777;
    }
    /* Style the SVG star icon in light mode - fill color - APPLY TO BOTH CLASSES */
    .star-filled-icon svg,
    .star-outline-icon svg {
        fill: gold; /* Yellow color for the star icons in light mode */
    }
    #favorites-list li button:first-child {
        background-color: #f0f0f0;
        color: #333;
    }
    #favorites-list li button:first-child:hover {
        background-color: #e0e0e0;
    }
    .remove-favorite-button {
        color: #f44336;
    }
    .remove-favorite-button:hover {
        color: darkred;
    }
    #addCurrentFavoriteButton { /* Note: ID in HTML is now saveFolderButtonIcon, this CSS isn't used anymore */
        border-color: #ccc;
    }
    #addCurrentFavoriteButton:hover { /* Note: ID in HTML is now saveFolderButtonIcon, this CSS isn't used anymore */
        background-color: #f0f0f0;
    }
    #switchButton {
        border-color: #ccc;
        background-color: #f0f0f0; /* Light background for switch button in light mode */
        color: #333; /* Dark text color for switch button in light mode */
    }
    #switchButton:hover {
        background-color: #e0e0e0;
    }
    #bookmarkFolder {
        border-color: #ccc;
        background-color: white;
        color: #333;
    }
    #bookmarkFolder:hover {
        border-color: #999;
    }
    #bookmarkFolder:focus {
        border-color: #66afe9;
        box-shadow: 0 0 5px rgba(102, 175, 233, 0.6);
    }
     /* Overwrite dropdown option hover color in light mode if needed - currently defaults are fine */
    /* #bookmarkFolder option:hover { ... } */
}


@media (prefers-color-scheme: dark) {
    body {
        background-color: #333;
        color: #f9f9f9;
    }
     h1, h2, h3 {
        color: #f9f9f9;
    }
    #message {
        color: #ccc; /* Lighter color for dark mode message */
    }
    #no-favorites-message {
        color: #aaa; /* Slightly lighter italic text in dark mode */
    }

    /* Style the SVG star icon in dark mode - fill color - APPLY TO BOTH CLASSES */
    .star-filled-icon svg,
    .star-outline-icon svg {
        fill: yellow; /* Brighter yellow for the star icons in dark mode */
    }
    #favorites-list li button:first-child {
        background-color: #555; /* Darker background for favorite buttons in dark mode */
        color: #eee; /* Lighter text color for favorite buttons in dark mode */
    }
     #favorites-list li button:first-child:hover {
        background-color: #777; /* Slightly lighter dark background on hover in dark mode */
    }
    .remove-favorite-button {
        color: #ff7777; /* Lighter red for remove icon in dark mode */
    }
    .remove-favorite-button:hover {
        color: #ffaaaa; /* Even lighter red on hover in dark mode */
    }
    #addCurrentFavoriteButton { /* Note: ID in HTML is now saveFolderButtonIcon, this CSS isn't used anymore */
        border-color: #777; /* Darker border for buttons in dark mode */
        color: #eee; /* Lighter text for buttons in dark mode if needed */
    }
    #addCurrentFavoriteButton:hover { /* Note: ID in HTML is now saveFolderButtonIcon, this CSS isn't used anymore */
        background-color: #777; /* Darker hover background in dark mode */
    }
    #switchButton {
        border-color: #777; /* Darker gray border for switch button in dark mode */
        background-color: #555; /* Darker gray background for switch button in dark mode */
        color: #eee; /* Lighter text color for switch button in dark mode for contrast */
    }
    #switchButton:hover {
        background-color: #777; /* Slightly lighter gray on hover for switch button in dark mode */
    }
    #bookmarkFolder {
        border-color: #777;
        background-color: #444; /* Darker background for dropdown in dark mode */
        color: #eee; /* Lighter text color for dropdown in dark mode */
    }
    #bookmarkFolder:hover {
        border-color: #999; /* Slightly lighter border on hover in dark mode */
    }
    #bookmarkFolder:focus {
        border-color: #66afe9; /* Keep focus highlight color same or adjust for dark mode */
        box-shadow: 0 0 5px rgba(102, 175, 233, 0.6); /* Keep shadow same or adjust */
    }

    /* --- NEW: Overwrite dropdown option hover color in dark mode --- */
    #bookmarkFolder option:hover {
        background-color: #777; /* Example: Medium gray background on hover for options */
        color: #fff; /* Example: White text color on hover for options - for contrast */
    }
}